{
  "PaginatedOrderResponse": {
    "type": "object",
    "properties": {
      "content": {
        "type": "array",
        "items": {
          "$ref": "#/orderResponse"
        }
      },
      "page": {
        "type": "integer"
      },
      "size": {
        "type": "integer"
      },
      "totalElements": {
        "type": "integer",
        "format": "int64"
      },
      "totalPages": {
        "type": "integer"
      },
      "first": {
        "type": "boolean"
      },
      "last": {
        "type": "boolean"
      }
    },
    "required": ["content", "page", "size", "totalElements", "totalPages"]
  },
  "PaginatedBookResponse": {
    "type": "object",
    "properties": {
      "content": {
        "type": "array",
        "items": {
          "$ref": "#/Book"
        }
      },
      "page": {
        "type": "integer"
      },
      "size": {
        "type": "integer"
      },
      "totalElements": {
        "type": "integer",
        "format": "int64"
      },
      "totalPages": {
        "type": "integer"
      },
      "first": {
        "type": "boolean"
      },
      "last": {
        "type": "boolean"
      }
    },
    "required": ["content", "page", "size", "totalElements", "totalPages"]
  },
  "PaginatedCustomerResponse": {
    "type": "object",
    "properties": {
      "content": {
        "type": "array",
        "items": {
          "$ref": "#/Customer"
        }
      },
      "page": {
        "type": "integer"
      },
      "size": {
        "type": "integer"
      },
      "totalElements": {
        "type": "integer",
        "format": "int64"
      },
      "totalPages": {
        "type": "integer"
      },
      "first": {
        "type": "boolean"
      },
      "last": {
        "type": "boolean"
      }
    },
    "required": ["content", "page", "size", "totalElements", "totalPages"]
  },
  "PaginatedAdminResponse": {
    "type": "object",
    "properties": {
      "content": {
        "type": "array",
        "items": {
          "$ref": "#/Admin"
        }
      },
      "page": {
        "type": "integer"
      },
      "size": {
        "type": "integer"
      },
      "totalElements": {
        "type": "integer",
        "format": "int64"
      },
      "totalPages": {
        "type": "integer"
      },
      "first": {
        "type": "boolean"
      },
      "last": {
        "type": "boolean"
      }
    },
    "required": ["content", "page", "size", "totalElements", "totalPages"]
  },
  "orderRequest": {
    "type": "object",
    "properties": {
      "customer": {
        "$ref": "#/CustomerReference"
      },
      "items": {
        "type": "array",
        "items": {
          "$ref": "#/orderItemRequest"
        },
        "minItems": 1
      }
    },
    "required": ["customer", "items"]
  },
  "orderResponse": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "orderDate": {
        "type": "string",
        "format": "date-time"
      },
      "totalPrice": {
        "type": "number",
        "format": "float",
        "minimum": 0
      },
      "status": {
        "type": "string",
        "enum": ["PLACED", "PROCESSING", "SHIPPED", "DELIVERED", "CANCELLED"]
      },
      "customer": {
        "$ref": "#/CustomerReference"
      },
      "items": {
        "type": "array",
        "items": {
          "$ref": "#/orderItemResponse"
        }
      }
    },
    "required": ["id", "orderDate", "totalPrice", "status", "customer", "items"]
  },
  "orderItemRequest": {
    "type": "object",
    "properties": {
      "book": {
        "$ref": "#/BookReference"
      },
      "quantity": {
        "type": "integer",
        "minimum": 1
      }
    },
    "required": ["book", "quantity"]
  },
  "orderItemResponse": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "quantity": {
        "type": "integer",
        "minimum": 1
      },
      "price": {
        "type": "number",
        "format": "float",
        "minimum": 0
      },
      "book": {
        "$ref": "#/BookResponse"
      }
    },
    "required": ["id", "quantity", "price", "book"]
  },
  "CustomerReference": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "username": {
        "type": "string"
      }
    },
    "required": ["id", "username"]
  },
  "Customer": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "email": {
        "type": "string",
        "format": "email"
      },
      "username": {
        "type": "string",
        "minLength": 3,
        "maxLength": 20
      },
      "address": {
        "type": "string"
      },
      "balance": {
        "type": "number",
        "format": "float",
        "minimum": 0
      }
    },
    "required": ["id", "email", "username"]
  },
  "Book": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "isbn": {
        "type": "string",
        "pattern": "^(97[89])?[0-9]{9}[0-9X]$",
        "description": "International Standard Book Number (ISBN-10 or ISBN-13)"
      },
      "author": {
        "type": "string",
        "minLength": 1
      },
      "title": {
        "type": "string",
        "minLength": 1
      },
      "description": {
        "type": "string"
      },
      "quantity": {
        "type": "integer",
        "minimum": 0
      },
      "price": {
        "type": "number",
        "format": "float",
        "minimum": 0
      },
      "coverImageUrl": {
          "type": "string",
          "description": "URL of the book's cover"
      }
    },
    "required": ["id", "isbn", "title", "author", "price"]
  },
  "BookCreateRequest": {
    "type": "object",
    "properties": {
      "isbn": {
        "type": "string",
        "pattern": "^(97[89])?[0-9]{9}[0-9X]$",
        "description": "International Standard Book Number (ISBN-10 or ISBN-13)"
      },
      "author": {
        "type": "string",
        "minLength": 1
      },
      "title": {
        "type": "string",
        "minLength": 1
      },
      "description": {
        "type": "string"
      },
      "quantity": {
        "type": "integer",
        "minimum": 0,
        "default": 0
      },
      "price": {
        "type": "number",
        "format": "float",
        "minimum": 0
      }
    },
    "required": ["isbn", "title", "author", "price"]
  },
  "BookUpdateRequest": {
    "type": "object",
    "properties": {
      "author": {
        "type": "string",
        "minLength": 1
      },
      "title": {
        "type": "string",
        "minLength": 1
      },
      "description": {
        "type": "string"
      },
      "quantity": {
        "type": "integer",
        "minimum": 0
      },
      "price": {
        "type": "number",
        "format": "float",
        "minimum": 0
      }
    }
  },
  "BookResponse": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "isbn": {
        "type": "string",
        "pattern": "^(97[89])?[0-9]{9}[0-9X]$",
        "description": "International Standard Book Number (ISBN-10 or ISBN-13)"
      },
      "author": {
        "type": "string"
      },
      "title": {
        "type": "string"
      },
      "description": {
        "type": "string"
      },
      "price": {
        "type": "number",
        "format": "float",
        "minimum": 0
      }
    },
    "required": ["id", "isbn", "title", "author", "price"]
  },
  "BookReference": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      }
    },
    "required": ["id"]
  },
  "Admin": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "username": {
        "type": "string",
        "minLength": 3,
        "maxLength": 20
      },
      "email": {
        "type": "string",
        "format": "email"
      }
    },
    "required": ["id", "username", "email"]
  },
  "BookFieldUpdate": {
    "type": "object",
    "properties": {
      "field": {
        "type": "string",
        "enum": ["title", "author", "description", "price", "quantity"]
      },
      "oldValue": {
        "type": "string"
      },
      "newValue": {
        "type": "string"
      }
    },
    "required": ["field", "oldValue", "newValue"]
  },
  "CustomError": {
    "type": "object",
    "properties": {
      "success": {
        "type": "boolean",
        "default": false
      },
      "timestamp": {
        "type": "string",
        "format": "date-time"
      },
      "message": {
        "type": "string"
      },
      "details": {
        "type": "string"
      },
      "httpStatus": {
        "type": "string",
        "enum": ["BAD_REQUEST", "UNAUTHORIZED", "FORBIDDEN", "NOT_FOUND", "CONFLICT", "INTERNAL_SERVER_ERROR"]
      }
    },
    "required": ["success", "timestamp", "message", "details", "httpStatus"]
  },
  "ValidationError": {
    "type": "object",
    "properties": {
      "timeStamp": {
        "type": "string",
        "format": "date-time"
      },
      "httpStatus": {
        "type": "string",
        "enum": ["BAD_REQUEST"]
      },
      "violations": {
        "type": "array",
        "items": {
          "$ref": "#/ViolationError"
        }
      }
    },
    "required": ["timeStamp", "httpStatus", "violations"]
  },
  "ViolationError": {
    "type": "object",
    "properties": {
      "field": {
        "type": "string"
      },
      "message": {
        "type": "string"
      }
    },
    "required": ["field", "message"]
  },
  "RegisterRequest": {
    "type": "object",
    "properties": {
      "username": {
        "type": "string",
        "minLength": 3,
        "maxLength": 20,
        "pattern": "^[a-zA-Z0-9_]+$"
      },
      "password": {
        "type": "string",
        "minLength": 6,
        "maxLength": 100
      },
      "email": {
        "type": "string",
        "format": "email",
        "minLength": 5,
        "maxLength": 50
      }
    },
    "required": ["username", "password", "email"]
  },
  "LoginRequest": {
    "type": "object",
    "properties": {
      "username": {
        "type": "string",
        "minLength": 3,
        "maxLength": 20
      },
      "password": {
        "type": "string",
        "minLength": 6,
        "maxLength": 100
      }
    },
    "required": ["username", "password"]
  },
  "JwtResponse": {
    "type": "object",
    "properties": {
      "token": {
        "type": "string"
      },
      "type": {
        "type": "string",
        "default": "Bearer"
      },
      "username": {
        "type": "string"
      },
      "role": {
        "type": "string",
        "enum": ["CUSTOMER", "ADMIN"]
      }
    },
    "required": ["token", "username", "role"]
  },
  "CreateUserRequest": {
    "type": "object",
    "properties": {
      "username": {
        "type": "string",
        "minLength": 3,
        "maxLength": 20,
        "pattern": "^[a-zA-Z0-9_]+$"
      },
      "password": {
        "type": "string",
        "minLength": 6,
        "maxLength": 100
      },
      "email": {
        "type": "string",
        "format": "email",
        "minLength": 5,
        "maxLength": 50
      },
      "role": {
        "type": "string",
        "description": "Role of the user",
        "enum": ["CUSTOMER", "ADMIN"]
      }
    },
    "required": ["username", "password", "email", "role"]
  },
  "UserCreatedResponse": {
    "type": "object",
    "properties": {
      "id": {
        "type": "integer",
        "format": "int64"
      },
      "username": {
        "type": "string"
      },
      "email": {
        "type": "string",
        "format": "email"
      },
      "role": {
        "type": "string",
        "enum": ["CUSTOMER", "ADMIN"]
      },
      "message": {
        "type": "string"
      }
    },
    "required": ["id", "username", "email", "role", "message"]
  },
  "UpdateOrderStatusRequest": {
    "type": "object",
    "properties": {
      "status": {
        "type": "string",
        "enum": ["PLACED", "PROCESSING", "SHIPPED", "DELIVERED", "CANCELLED"]
      }
    },
    "required": ["status"]
  },
  "CancelOrderRequest": {
    "type": "object",
    "properties": {
      "reason": {
        "type": "string",
        "minLength": 1,
        "maxLength": 255
      }
    },
    "required": ["reason"]
  },
  "FileUploadRequest": {
    "type": "object",
    "properties": {
      "file": {
        "type": "string",
        "format": "binary",
        "description": "The image file to upload"
      }
    },
    "required": ["file"]
  }
}